<!DOCTYPE html>
<html>
<head>
<title>DWG Viewer - GitHub Pages</title>

<!-- CAD Viewer -->
<script src="https://unpkg.com/@webcad/cad-viewer/dist/cad-viewer.js"></script>

<style>
body{
    font-family: Arial;
    background:#f4f4f4;
    text-align:center;
}

#viewer{
    width: 95%;
    height: 85vh;
    margin: auto;
    border: 2px solid black;
    background: white;
}
</style>
</head>

<body>

<h2>DWG Viewer (Upload & View)</h2>

<input type="file" id="fileInput" accept=".dwg">

<div id="viewer"></div>

<script>
const viewer = new CADViewer("viewer", {
    workerPath: "https://unpkg.com/@webcad/cad-viewer/dist/"
});

document.getElementById("fileInput").addEventListener("change", function(e){
    const file = e.target.files[0];
    if(!file) return;

    const reader = new FileReader();

    reader.onload = function(ev){
        const buffer = ev.target.result;
        viewer.load(buffer);
    };

    reader.readAsArrayBuffer(file);
});
</script>

</body>
</html>
